---
import Social from "./Social.astro";
import LenguageCard from "./LenguageCard.astro";
import "../styles/cursorAnimation.css";

import { BASE_URL, SITE } from "../config.js";
---

<section
  id="about"
  class="flex flex-col lg:flex-row items-center lg:gap-16 gap-8 py-8 lg:py-16 px-4 sm:px-6 lg:px-24"
>
  <!-- IMG TOP/RIGHT -->
  <div
    class="w-32 h-32 sm:w-40 sm:h-40 lg:w-64 lg:h-64 rounded-full overflow-hidden relative shadow-lg order-1 lg:order-2 flex-shrink-0"
  >
    <img
      src=`${SITE}/${BASE_URL}/images/about_image_phie.JPEG`
      alt="Foto Daniel Flores Viera"
      class="w-full h-full object-cover object-center select-none pointer-events-none"
      draggable="false"
      oncontextmenu="return false;"
      ondragstart="return false;"
      onselectstart="return false;"
      onmousedown="return false;"
    />
    <div class="absolute inset-0 z-10 select-none pointer-events-auto" style="background: transparent;"></div>
  </div>

  <!-- Text BOTTOM/LEFT -->
  <div class="flex-1 max-w-2xl text-center lg:text-left order-2 lg:order-1">
    <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold mb-4 leading-tight">
      Hola! Mi nombre es Daniel, y soy un&nbsp;
      <span id="dynamic-word" class="text-blue-600"></span><span
        id="cursor"
        class="animate-blink">|</span
      > DEV
    </h2>
    <p class="text-gray-600 mb-6 text-sm sm:text-base leading-relaxed">
      Hola, soy Daniel Flores Viera, estudiante de ING. Civil Informática,
      apasionado por el desarrollo backend y la creación de sistemas eficientes
      y escalables. Soy un Trainee que está constantemente adquiriendo
      conocimientos en el mundo de la programación, buscando mejorar mis
      habilidades día a día. Me interesa especialmente la arquitectura de
      software enfocado en el Backend, el diseño de API y la gestión de bases de datos.
    </p>
    <!-- Social Media Component -->
    <div class="flex justify-center lg:justify-start">
      <Social />
    </div>
  </div>
</section>

<section id="lenguages" class="px-4 sm:px-6 lg:px-24 py-8">
  <h3 class="text-2xl font-bold text-center mb-8">
    Tecnologías y Herramientas
  </h3>

  <div
    class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 max-w-7xl mx-auto"
  >
    <LenguageCard
      title="JavaScript"
      description="Desarrollo aplicaciones con JavaScript ES6+, incluyendo bots de Discord y APIs REST. Manejo conceptos como asincronía, promesas y manejo de eventos para crear proyectos funcionales como mc-discord-ws y system-token-plugin."
      imageUrl=`${SITE}/${BASE_URL}/icons/js-icon.png`
      imageAlt="Logo de JavaScript"
    />
    <LenguageCard
      title="TypeScript"
      description="Especializado en TypeScript para proyectos robustos. He migrado proyectos de JavaScript a TypeScript, implementando tipado estricto en bots de Discord como type-bot y S-Guard, garantizando código más mantenible y con menos errores."
      imageUrl=`${SITE}/${BASE_URL}/icons/ts-icon.png`
      imageAlt="Logo de TypeScript"
    />
    <LenguageCard
      title="Java"
      description="Experiencia en desarrollo Java con Maven para gestión de dependencias. Manejo programación orientada a objetos, desarrollo de plugins y sistemas de backend. Familiarizado con APIs de Spigot y implementación de funcionalidades personalizadas."
      imageUrl=`${SITE}/${BASE_URL}/icons/java-icon.png`
      imageAlt="Logo de Java"
    />
    <LenguageCard
      title="Python"
      description="Desarrollo scripts de automatización y algoritmos en Python. Experiencia en manipulación de datos y automatización de procesos para optimizar tareas repetitivas en el desarrollo de proyectos."
      imageUrl=`${SITE}/${BASE_URL}/icons/py-icon.png`
      imageAlt="Logo de Python"
    />
    <LenguageCard
      title="MongoDB"
      description="Implementación de bases de datos NoSQL con MongoDB para persistencia de datos. Experiencia en modelado de datos JSON y operaciones CRUD para aplicaciones como bots de Discord y sistemas de economía en plugins de Minecraft."
      imageUrl=`${SITE}/${BASE_URL}/icons/mongodb-icon.png`
      imageAlt="Logo de MongoDB"
    />
    <LenguageCard
      title="APIs & WebSockets"
      description="Desarrollo de APIs REST y comunicación en tiempo real con WebSockets. Manejo de Express.js para backends, implementación de endpoints y sistemas de comunicación bidireccional entre diferentes plataformas y servicios."
      imageUrl=`${SITE}/${BASE_URL}/icons/api-icon.png`
      imageAlt="Logo de API"
    />
  </div>
</section>

<script>
  import { startTypingEffect } from "../scripts/typingEffect";
  const aboutTitleWords = ["Backend", "Discord", "Minecraft"];
  startTypingEffect(aboutTitleWords);
</script>

<style>
  /* Protección específica para la imagen de perfil */
  img[alt="Foto Daniel Flores Viera"] {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
    user-drag: none;
    pointer-events: none;
  }
  
  /* Desactivar menú contextual en el contenedor de la imagen */
  img[alt="Foto Daniel Flores Viera"]::-webkit-media-controls {
    display: none !important;
  }
  
  /* Protección adicional contra selección */
  img[alt="Foto Daniel Flores Viera"]::selection {
    background: transparent;
  }
  
  img[alt="Foto Daniel Flores Viera"]::-moz-selection {
    background: transparent;
  }
</style>
